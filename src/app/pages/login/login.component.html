
<div class="login-content">
    
    

    <mat-card class="card" color="primary">
        <mat-card-content class="card-content">

            <img class="img-login" src="https://img.freepik.com/free-vector/login-concept-illustration_114360-739.jpg">

            <div class="text-login">
                <span>Ingresa tu usuario y contrase単a.</span>
            </div>

            <form class="form-login" [formGroup]="loginForm">

                <mat-form-field class="full-width">
                  <mat-label>Usuario</mat-label>
                  <input type="text" matInput placeholder="Ingrese usuario" formControlName="user">
                  <mat-icon class="icon-color" matSuffix>person</mat-icon>
                  @if(loginForm.controls.user.invalid && (loginForm.controls.user.dirty || loginForm.controls.user.touched)){
                    <mat-error>
                      @if(loginForm.controls.user.errors?.['required']){
                        Ingresa un usuario.
                      }
                    </mat-error>
                  }
                </mat-form-field>
              
                <mat-form-field class="full-width">
                  <mat-label>Contrase単a</mat-label>
                  <input [type]="showPassword ? 'text' : 'password'" matInput placeholder="Ingrese contrase単a" formControlName="password">
                  <mat-icon class="icon-color" matSuffix (click)="showPassword = !showPassword" >
                    {{showPassword ? 'visibility' : 'visibility_off'}}
                  </mat-icon>
                  
                  @if(loginForm.controls.password.invalid && (loginForm.controls.password.dirty || loginForm.controls.password.touched)){
                    <mat-error>
                      @if(loginForm.controls.password.errors?.['required']){
                        Porfavor usuario.
                      }
                    </mat-error>
                  }
                </mat-form-field>

                @if(errorLogin){
                  <mat-error>
                    &#10060; * Porfavor revisa tu usurio y contrase単a.
                  </mat-error>
                }

                <button type="submit" mat-flat-button color="primary" class="full-width color-white" (click)="submitForm()" [disabled]="disabledLogin">
                  @if (!disabledLogin) {
                    Ingresar
                  }
                  @if(disabledLogin){
                    <mat-icon>
                      <mat-spinner color="accent" diameter="18"></mat-spinner>
                    </mat-icon>
                  }
                </button>

              </form>

        </mat-card-content>
    </mat-card>
</div>

